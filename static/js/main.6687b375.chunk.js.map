{"version":3,"sources":["context/AuthContext.js","components/Input/Input.js","hoocs/useValidate/controls.js","hoocs/useValidate/useValidate.js","components/Button/Button.js","pages/auth/Auth.js","redux/reducers/hotels/types.js","redux/reducers/hotels/actions.js","components/Search/Search.js","components/order/Order.js","components/Card/utils.js","components/Card/Card.js","components/cards/Cards.js","components/fovorites/Favorites.js","components/fovorites/utils.js","components/slider/Slider.js","components/result/utils.js","components/result/Result.js","pages/hotels/Hotels.js","components/Header/Header.js","App.js","hoocs/useAuth/useAuth.js","routes.js","redux/reducers/hotels/hotelsReducer.js","redux/reducers/rootReducer.js","redux/sagas/rootSaga.js","redux/store.js","index.js"],"names":["AuthContext","createContext","login","Function","prototype","logout","isAuth","isInvalid","valid","touched","shouldValidate","Input","props","inputType","type","cls","htmlFor","Math","random","push","className","join","label","id","value","onChange","errorMessage","authControls","validation","required","email","password","minLength","onlyLatinic","searchControls","location","date","daysNumber","validateInput","isValid","res","trim","length","test","String","toLowerCase","useValidate","formControls","useState","controls","setControls","isFormValid","Object","keys","reduce","prev","current","onInputChange","controlName","event","currentControls","currentControl","target","Button","onClick","clickHandler","disabled","content","Auth","auth","useContext","inputs","map","index","bind","e","preventDefault","START_FETCHING","STOP_FETCHING","FILL_HOTELS","FETCH_HOTELS_ASYNC","ADD_FAVOURITE","REMOVE_FAVOURITE","asyncHotelsCreator","town","dateIn","days","payload","hotelsCreator","hotels","Search","data","useSelector","state","hotelsState","dispatch","useDispatch","Order","orderClass","text","enMounths","Card","isImage","src","alt","hotelName","isFavourite","removeFavouriteAction","split","rating","stars","starRatedColor","numberOfStars","starDimension","price","Cards","hotelList","hotel","Favorites","array","favouriteHotels","orderState","setOrderState","sort","a","b","orderClickHandler","slides","slide","i","spaceBetween","loop","slidesPerView","ruMounths","Result","hotelsCount","count","Slider","Hotels","useEffect","Date","getFullYear","getMonth","getDate","Header","App","isLogin","setIsLogin","JSON","parse","localStorage","getItem","loginHandler","setItem","stringify","removeItem","useAuth","route","path","component","exact","to","routes","Provider","initialState","isFetching","rootReducer","combineReducers","action","favouriteIndex","findIndex","el","favourite","newHotels","filter","hotelsAsync","watchHotelsAsync","rootSaga","fetchHotels","dateOut","getDayOut","uri","fetch","formatResponse","priceFrom","dayIn","year","mounth","day","put","call","Promise","json","takeEvery","all","sagaMiddleware","createSagaMiddleware","store","createStore","applyMiddleware","run","app","StrictMode","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6687b375.chunk.js","sourcesContent":["import {createContext} from \"react\";\r\n\r\nexport const AuthContext = createContext({\r\n    login:Function.prototype,\r\n    logout:Function.prototype,\r\n    isAuth:false\r\n})\r\n\r\n","import React from 'react'\nimport  './Input.css'\n\nfunction isInvalid({valid, touched, shouldValidate}) {\n  return !valid && shouldValidate && touched\n}\n\nconst Input = props => {\n  const inputType = props.type || 'text'\n  const cls = ['Input']\n  const htmlFor = `${inputType}-${Math.random()}`\n\n  if (isInvalid(props)) {\n    cls.push('invalid')\n  }\n\n  return (\n    <div className={cls.join(' ')}>\n      <label htmlFor={htmlFor}>{props.label}</label>\n      <input\n        type={inputType}\n        id={htmlFor}\n        value={props.value}\n        onChange={props.onChange}\n      />\n\n      {\n        isInvalid(props)\n          ? <span>{props.errorMessage || 'Введите верное значение'}</span>\n          : null\n      }\n    </div>\n  )\n}\n\nexport default Input","export  const authControls = {\r\n        login:{\r\n            value:'',\r\n            type:'email',\r\n            label:\"Логин\",\r\n            errorMessage:\"\",\r\n            shouldValidate:true,\r\n            touched:false,\r\n            valid:false,\r\n             validation: {\r\n                required: true,\r\n                email:true,\r\n\r\n             }\r\n        },\r\n        password: {\r\n        value: '',\r\n        type: 'password',\r\n        label: 'Пароль',\r\n        errorMessage: 'Введите корректный пароль',\r\n        valid: false,\r\n        touched: false,\r\n        validation: {\r\n          required: true,\r\n          minLength: 8,\r\n          onlyLatinic:true\r\n        }\r\n      }\r\n    }\r\nexport const searchControls = {\r\n    location: {\r\n        value: '',\r\n        type: 'text',\r\n        label: 'Локация',\r\n        errorMessage: '',\r\n        valid: false,\r\n        touched: false,\r\n        validation: {\r\n          required: true,\r\n        }\r\n      },\r\n      date: {\r\n        value: '',\r\n        type: 'date',\r\n        label: 'Дата заселения',\r\n        errorMessage: '',\r\n        valid: false,\r\n        touched: false,\r\n        validation: {\r\n          required: true,\r\n        }\r\n      },\r\n      daysNumber: {\r\n        value: 1,\r\n        type: 'text',\r\n        label: 'Колличество дней',\r\n        errorMessage: '',\r\n        valid: false,\r\n        touched: false,\r\n        validation: {\r\n          required: true,\r\n        }\r\n      }\r\n}\r\n\r\n","import {useState} from \"react\";\r\nfunction validateEmail(email) {\r\n    const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    return re.test(String(email).toLowerCase());\r\n}\r\nfunction validateInput(validation,value){\r\n    let isValid = true\r\n    let errorMessage = ''\r\n    if(validation.required){\r\n        const res = value.trim() !== ''\r\n        errorMessage = res ? errorMessage : 'Поле должно быть заполнено'\r\n        isValid = isValid && res\r\n    }\r\n    if(validation.minLength){\r\n        const res = value.length >= validation.minLength\r\n        errorMessage = res ? errorMessage : `Минимальная длина составляет ${validation.minLength} символов`\r\n        isValid = isValid && res\r\n    }\r\n    if(validation.email){\r\n        const res = validateEmail(value)\r\n        isValid = isValid && res\r\n        errorMessage = res ? errorMessage : 'Введите корректный email'\r\n    }\r\n    if(validation.onlyLatinic){\r\n        const  res = !/[а-яА-ЯЁё]/.test(value)\r\n        isValid = isValid && res\r\n        errorMessage = res ? errorMessage:'Запрещено испоьзовать кирилицу'\r\n    }\r\n    return {isValid,errorMessage}\r\n}\r\n\r\nexport default function useValidate (formControls){\r\n    const [controls,setControls] = useState(formControls)\r\n\r\n    const isFormValid = Object.keys(controls).reduce((prev,current)=>{\r\n        return prev&&controls[current].valid\r\n    },true)\r\n    const onInputChange = (controlName,event)=>{\r\n        const currentControls = {...controls}\r\n        const currentControl = {...currentControls[controlName]}\r\n        currentControl.touched = true\r\n        currentControl.value = event.target.value\r\n        const validation = validateInput(currentControl.validation,currentControl.value)\r\n        currentControl.valid = validation.isValid\r\n        currentControl.errorMessage = validation.errorMessage\r\n        currentControls[controlName] = {...currentControl}\r\n        setControls(currentControls)\r\n    }\r\n\r\n    return {controls, onInputChange,isFormValid}\r\n}","import React from \"react\";\r\nimport './Button.css'\r\n\r\n\r\nexport const Button = (props)=>{\r\n    return (\r\n        <button\r\n            onClick={props.clickHandler}\r\n            className={\"Button\"}\r\n            disabled={!props.isFormValid}\r\n        >{props.content}</button>\r\n    )\r\n}","import React, {useContext} from \"react\";\r\nimport Input from \"../../components/Input/Input\";\r\nimport {authControls} from \"../../hoocs/useValidate/controls\";\r\nimport useValidate from \"../../hoocs/useValidate/useValidate\";\r\nimport  './Auth.css'\r\nimport {Button} from \"../../components/Button/Button\";\r\nimport {AuthContext} from \"../../context/AuthContext\";\r\n\r\n\r\nexport const Auth = ()=>{\r\n   const formControls = {...authControls}\r\n    const auth = useContext(AuthContext)\r\n    const {controls,onInputChange,isFormValid} = useValidate(formControls)\r\n    const loginHandler = (e)=>{\r\n       e.preventDefault()\r\n        auth.login(controls.login.value)\r\n    }\r\n    const inputs = Object.keys(controls).map((controlName,index)=>{\r\n        return <Input\r\n            type={controls[controlName].type}\r\n            label={controls[controlName].label}\r\n            onChange={onInputChange.bind(null,controlName)}\r\n            touched={controls[controlName].touched}\r\n            shouldValidate={!!controls[controlName].validation}\r\n            errorMessage={controls[controlName].errorMessage}\r\n            valid={controls[controlName].valid}\r\n        />\r\n    })\r\n\r\n\r\n    return(\r\n        <div className={'fullscreen'}>\r\n            <div className={'form'}>\r\n                <form>\r\n                    <h1>Simple Hotel Check</h1>\r\n                    {inputs}\r\n                    <Button content={\"Войти\"} isFormValid={isFormValid} clickHandler={loginHandler}/>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}","export const START_FETCHING = 'START_FETCHING';\r\nexport const STOP_FETCHING = 'STOP_FETCHING';\r\nexport const FILL_HOTELS = 'FILL_HOTELS';\r\nexport const FETCH_HOTELS_ASYNC = 'FETCH_HOTELS_ASYNC';\r\nexport const ADD_FAVOURITE = 'ADD_FAVOURITE';\r\nexport const REMOVE_FAVOURITE = 'REMOVE_FAVOURITE';","import {ADD_FAVOURITE, FETCH_HOTELS_ASYNC, FILL_HOTELS, REMOVE_FAVOURITE, START_FETCHING, STOP_FETCHING} from \"./types\";\r\n\r\nexport function startFetchAction(town,date,days){\r\n    return {\r\n        type:START_FETCHING,\r\n        payload:{town,date,days}\r\n    }\r\n}\r\nexport function stopFetchAction(){\r\n    return {\r\n        type:STOP_FETCHING,\r\n    }\r\n}\r\n\r\nexport function asyncHotelsCreator(town,dateIn,days){\r\n    return {\r\n        type:FETCH_HOTELS_ASYNC,\r\n        payload:{town,dateIn,days}\r\n    }\r\n}\r\nexport function hotelsCreator(hotels){\r\n    return {\r\n        type:FILL_HOTELS,\r\n        payload:hotels\r\n    }\r\n}\r\nexport function addFavouriteAction(hotelName){\r\n    return{\r\n        type:ADD_FAVOURITE,\r\n        payload:hotelName\r\n    }\r\n}\r\nexport function removeFavouriteAction(hotelName) {\r\n    return {\r\n        type: REMOVE_FAVOURITE,\r\n        payload: hotelName\r\n    }\r\n}","import {Button} from \"../Button/Button\";\r\nimport React from \"react\";\r\nimport {searchControls} from \"../../hoocs/useValidate/controls\";\r\nimport Input from \"../Input/Input\";\r\nimport useValidate from \"../../hoocs/useValidate/useValidate\";\r\nimport './Search.css'\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {asyncHotelsCreator} from \"../../redux/reducers/hotels/actions\";\r\n\r\n\r\nexport function Search(){\r\n    const data = useSelector(state=>state.hotelsState)\r\n    const formControls = {...searchControls}\r\n    const {controls,onInputChange,isFormValid} = useValidate(formControls)\r\n    const dispatch = useDispatch()\r\n    formControls.date.value = data.date\r\n    formControls.daysNumber.value = data.days\r\n    formControls.location.value = data.town\r\n    const inputs = Object.keys(controls).map((controlName,index)=>{\r\n\r\n        return <Input\r\n            key={index}\r\n            value={controls[controlName].value}\r\n            type={controls[controlName].type}\r\n            label={controls[controlName].label}\r\n            onChange={onInputChange.bind(null,controlName)}\r\n            touched={controls[controlName].touched}\r\n            shouldValidate={!!controls[controlName].validation}\r\n            errorMessage={controls[controlName].errorMessage}\r\n            valid={controls[controlName].valid}\r\n        />\r\n    })\r\n    const searchHandler = (e)=>{\r\n        e.preventDefault()\r\n        dispatch(asyncHotelsCreator(controls.location.value,controls.date.value,+controls.daysNumber.value))\r\n    }\r\n    return(\r\n        <div className={'Search'}>\r\n                <form>\r\n                    {inputs}\r\n                    <Button content={\"Подобрать\"} isFormValid={true} clickHandler={searchHandler}/>\r\n                </form>\r\n            </div>\r\n    )\r\n}","import React from \"react\";\r\nimport './Order.css'\r\n\r\nexport function Order(props){\r\n    const cls = ['Order',props.orderClass].join(' ')\r\n    return(\r\n        <span id={props.id} onClick={props.onClick} className={cls}>{props.text} </span>\r\n    )\r\n}","const enMounths = [\r\n    \"Jan\",\r\n    \"Feb\",\r\n    \"Mar\",\r\n    \"Apr\",\r\n    \"May\",\r\n    \"Jun\",\r\n    \"Jul\",\r\n    \"Aug\",\r\n    \"Sep\",\r\n    \"Oct\",\r\n    \"Nov\",\r\n    \"Dec\",\r\n]\r\nexport function formatCardDate(date,days){\r\n    if (date === null) return \"\"\r\n    date = date.split('-')\r\n    if(days === 1){\r\n        return `${date[2]} ${enMounths[+date[1]-1]}, ${date[0]} - ${days} день`\r\n    }\r\n    if(days > 1 && days< 5){\r\n       return `${date[2]} ${enMounths[+date[1]-1]}, ${date[0]} - ${days} дня`\r\n    }\r\n    return `${date[2]} ${enMounths[+date[1]-1]}, ${date[0]} - ${days} дней`\r\n}","import React from \"react\";\r\nimport './Card.css'\r\nimport StarRatings from 'react-star-ratings';\r\nimport {formatCardDate} from \"./utils\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {addFavouriteAction, removeFavouriteAction} from \"../../redux/reducers/hotels/actions\";\r\nexport function Card(props){\r\n    const hotels = useSelector(state => state.hotelsState)\r\n    const dispatch = useDispatch()\r\n    const changeFavorHandler = ()=>{\r\n        if(!props.isFavourite){\r\n            dispatch(addFavouriteAction(props.hotelName))\r\n        }else{\r\n            dispatch(removeFavouriteAction(props.hotelName))\r\n        }\r\n    }\r\n    return(\r\n        <div className=\"Card\">\r\n            {props.isImage ? <div className=\"card__photo\">\r\n                <img src=\"house.png\" alt=\"hotel\"/>\r\n            </div>:null}\r\n            <div className={\"card__content\"}>\r\n                <div className=\"card__top\">\r\n                    <div className=\"card__hotel\">{props.hotelName}</div>\r\n                     <div className=\"card__favor\">\r\n                         <img onClick={changeFavorHandler} src=\"heart.svg\" alt=\"\"/>\r\n                     </div>\r\n                </div>\r\n                <div className=\"card__center\">\r\n                    <div className=\"card__date\">{formatCardDate(hotels.date,hotels.days)}</div>\r\n                </div>\r\n                <div className=\"card__bottom\">\r\n                    <div className=\"card__raiting\">\r\n                        <StarRatings\r\n                            rating={props.stars}\r\n                            starRatedColor=\"#CDBC1E\"\r\n                            numberOfStars={5}\r\n                            starDimension=\"17px\"\r\n                        />\r\n                    </div>\r\n                    <div className=\"card__price\">Price:<span>{props.price} ₽</span></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from \"react\";\r\nimport {Card} from \"../Card/Card\";\r\nimport './Cards.css'\r\n\r\n\r\nexport function Cards(props){\r\n    const hotelList = props.hotels.map((hotel,index)=>{\r\n        return <Card\r\n            key={index}\r\n            isFavourite={hotel.isFavourite}\r\n            isImage={props.isImage}\r\n            hotelName={hotel.hotelName}\r\n            price={hotel.price}\r\n            stars={hotel.stars}\r\n        />\r\n    })\r\n    return (\r\n        <div className=\"cards__wrapper\">\r\n            <div className=\"Cards\">\r\n                {hotelList}\r\n             </div>\r\n        </div>\r\n\r\n    )\r\n}","import React, {useState} from \"react\";\r\nimport './Favorites.css'\r\nimport {Order} from \"../order/Order\";\r\nimport {Cards} from \"../cards/Cards\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {orderByState} from \"./utils\";\r\n\r\nexport function Favorites(){\r\n    const hotels = useSelector(state => state.hotelsState.favouriteHotels)\r\n    const [orderState,setOrderState] = useState( {\r\n        price:'',\r\n        stars:''\r\n    })\r\n    const favouriteHotels = orderByState(orderState,hotels)\r\n    const orderClickHandler = (e)=>{\r\n        const id = e.target.id\r\n        setOrderState((prev)=>{\r\n            return{\r\n                price: '',\r\n                stars: '',\r\n                [id]:prev[id] === '' || prev[id] === 'desc' ? 'ask':'desc'\r\n            }\r\n        })\r\n    }\r\n    return(\r\n        <div className=\"Favorites\">\r\n            <div className=\"favorites__header\">Избранное</div>\r\n            <div className=\"favorites__control\">\r\n                <Order id=\"stars\" orderClass={orderState.stars} text=\"Рейтинг\" onClick={orderClickHandler}/>\r\n                <Order id=\"price\" orderClass={orderState.price} text=\"Цена\" onClick={orderClickHandler}/>\r\n            </div>\r\n            <Cards isImage={false} hotels={favouriteHotels}/>\r\n\r\n        </div>\r\n    )\r\n}","\r\nexport function orderByState(state,array){\r\n    if(state.price === 'ask'){\r\n        return array.sort((a,b)=>a.price - b.price)\r\n    }\r\n    if(state.price === 'desc'){\r\n        return array.sort((a,b)=>b.price - a.price)\r\n    }\r\n    if(state.stars === 'ask'){\r\n        return array.sort((a,b)=>a.stars - b.stars)\r\n    }\r\n    if(state.stars === 'desc'){\r\n        return array.sort((a,b)=>b.stars - a.stars)\r\n    }\r\n    return array\r\n\r\n}","import { Swiper, SwiperSlide } from 'swiper/react';\r\nimport 'swiper/swiper-bundle.min.css'\r\nimport 'swiper/swiper.min.css'\r\nimport './slider.css'\r\n\r\nexport default (props) => {\r\n  const res = props.slides.map((slide,i)=>{\r\n    return(\r\n        <SwiperSlide key={i}>\r\n         <img src={slide} alt=\"\"/>\r\n        </SwiperSlide>\r\n    )\r\n  })\r\n  return (\r\n    <Swiper\r\n      className={\"Slider\"}\r\n      spaceBetween={20}\r\n      loop={true}\r\n      slidesPerView={3}\r\n    >\r\n      {res}\r\n    </Swiper>\r\n  );\r\n};","export function correctHotelCounter(hotelsCount){\r\n    if(hotelsCount > 1 && hotelsCount < 5){\r\n        return 'отеля'\r\n    }\r\n    if (hotelsCount === 1){\r\n        return 'отель'\r\n    }\r\n    return 'отелей'\r\n}\r\n\r\nconst ruMounths = [\r\n    'Января' ,\r\n    'Февраля' ,\r\n    'Марта' ,\r\n    'Апреля' ,\r\n    'Майя' ,\r\n    'Июня' ,\r\n    'Июля' ,\r\n    'Августа' ,\r\n    'Сентября' ,\r\n    'Октября' ,\r\n    'Ноября' ,\r\n    'Декабря'\r\n];\r\n\r\n\r\nexport function formatHeaderDate(date){\r\n    if( date === null) return \"\"\r\n    date = date.split(\"-\");\r\n    return `${date[2]} ${ruMounths[+date[1]-1]} ${date[0]}`\r\n}","import React from \"react\";\r\nimport './Result.css'\r\nimport Slider from \"../slider/Slider\";\r\nimport {Cards} from \"../cards/Cards\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {correctHotelCounter, formatHeaderDate} from \"./utils\";\r\n\r\n\r\nexport function Result(){\r\n    const hotels = useSelector(state => state.hotelsState)\r\n    const count = hotels.favouriteHotels.length\r\n    return(\r\n        <div className=\"Result\">\r\n            <div className=\"results__header\">\r\n                <div className=\"results__info\">\r\n                    <span>Отели</span>\r\n                    <span>{hotels.town}</span>\r\n                </div>\r\n                <div className=\"results__date\">{formatHeaderDate(hotels.date)}</div>\r\n            </div>\r\n            <div className=\"swiper__wrap\">\r\n                <Slider slides={hotels.slides}/>\r\n            </div>\r\n            <div className=\"favorite__wrap\">\r\n                <p>Добавлено в Избранное: <span>{count} </span>{correctHotelCounter(count)}</p>\r\n            </div>\r\n                <Cards isImage={true} hotels={hotels.hotels}/>\r\n\r\n        </div>\r\n    )\r\n}","import React, {useEffect} from \"react\";\r\nimport {Search} from \"../../components/Search/Search\";\r\nimport './Hotels.css'\r\nimport {Favorites} from \"../../components/fovorites/Favorites\";\r\nimport {Result} from \"../../components/result/Result\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {asyncHotelsCreator} from \"../../redux/reducers/hotels/actions\";\r\nexport function Hotels(){\r\n    const dispatch = useDispatch()\r\n    useEffect(()=>{\r\n        const date = new Date()\r\n        const dateIn = `${date.getFullYear()}-${date.getMonth()+1}-${date.getDate()}`\r\n        dispatch(asyncHotelsCreator('Москва',dateIn,1))\r\n    },[dispatch])\r\n    return (\r\n        <div className=\"Hotels\">\r\n          <Search/>\r\n          <Favorites/>\r\n          <Result />\r\n        </div>\r\n    )\r\n}","import {useContext} from \"react\";\r\nimport {AuthContext} from \"../../context/AuthContext\";\r\nimport './Header.css'\r\n\r\n\r\nexport function Header(){\r\n    const {logout} = useContext(AuthContext)\r\n    return(\r\n        <header className=\"Header\">\r\n            <div className=\"header__title\">Simple Hotel Check</div>\r\n            <div className=\"logout\" onClick={logout}><p>Выйти</p><img src=\"logout.png\" alt=\"\"/></div>\r\n        </header>\r\n    )\r\n}","\nimport './App.css';\nimport {AuthContext} from \"./context/AuthContext\";\nimport {useAuth} from \"./hoocs/useAuth/useAuth\";\nimport {routes} from \"./routes\";\nimport {Header} from \"./components/Header/Header\";\n\nfunction App() {\n   const {loginHandler, logout,isAuth} = useAuth();\n   const route = routes(isAuth)\n  return (\n    <AuthContext.Provider value={{login:loginHandler,logout,isAuth}}>\n        <div className={\"App\"}>\n            {isAuth ? <Header/>:null}\n            {route}\n        </div>\n    </AuthContext.Provider>\n  );\n}\n\nexport default App;\n","import {useEffect, useState} from \"react\";\r\n\r\n\r\nexport function useAuth(){\r\n    const [isLogin,setIsLogin] = useState(false)\r\n\r\n    const loginHandler = (login)=>{\r\n        localStorage.setItem('userData',JSON.stringify(login))\r\n        setIsLogin(true)\r\n    }\r\n    const logout = ()=>{\r\n        localStorage.removeItem('userData')\r\n        setIsLogin(false)\r\n    }\r\n    useEffect(()=>{\r\n        const login = JSON.parse(localStorage.getItem('userData'))\r\n        if(login){\r\n            setIsLogin(true)\r\n        }\r\n    },[])\r\n    return {loginHandler,logout,isAuth:isLogin}\r\n}","import {Redirect, Route, Switch} from \"react-router-dom\";\r\nimport {Auth} from \"./pages/auth/Auth\";\r\nimport {Hotels} from \"./pages/hotels/Hotels\";\r\n\r\nexport function routes(isAuth){\r\n    if(!isAuth){\r\n        return(\r\n            <Switch>\r\n                <Route path=\"/login\" component={Auth} exact/>\r\n                <Redirect to=\"/login\"/>\r\n            </Switch>\r\n        )\r\n    }\r\n    return (\r\n        <Switch>\r\n            <Route path=\"/hotels\" component={Hotels} exact/>\r\n            <Redirect to=\"/hotels\"/>\r\n        </Switch>\r\n    )\r\n}","import {ADD_FAVOURITE, FILL_HOTELS, REMOVE_FAVOURITE, START_FETCHING, STOP_FETCHING} from \"./types\";\r\n\r\nconst initialState={\r\n    hotels:[],\r\n    favouriteHotels:[],\r\n    date:null,\r\n    town:\"\",\r\n    days:1,\r\n    isFetching:false,\r\n    slides : [\r\n        'slide1.png',\r\n        'slide2.png',\r\n        'slide3.png',\r\n        'slide4.png'\r\n    ]\r\n}\r\n\r\n\r\n\r\n\r\nexport default function hotelsReducer (state=initialState,action){\r\n    switch (action.type){\r\n        case START_FETCHING:\r\n            return {...state,isFetching: true,town: action.payload.town,date:action.payload.date,days:action.payload.days }\r\n        case STOP_FETCHING:\r\n            return {...state,isFetching:false}\r\n        case FILL_HOTELS:\r\n            return {...state,hotels: [...action.payload]}\r\n        case ADD_FAVOURITE:\r\n            const favouriteIndex = state.hotels.findIndex(el=>el.hotelName === action.payload)\r\n            const hotels = [...state.hotels]\r\n            hotels[favouriteIndex].isFavourite = !hotels[favouriteIndex].isFavourite\r\n            const favourite = hotels[favouriteIndex]\r\n            return {...state,hotels: [...hotels],favouriteHotels: [...state.favouriteHotels,favourite]}\r\n        case REMOVE_FAVOURITE:\r\n            const index = state.hotels.findIndex(el=>el.hotelName === action.payload)\r\n            const newHotels = [...state.hotels]\r\n            if (index !== -1){\r\n                newHotels[index].isFavourite = !newHotels[index].isFavourite\r\n            }\r\n            let favouriteHotels = [...state.favouriteHotels]\r\n            favouriteHotels = favouriteHotels.filter(el=>el.hotelName !== action.payload)\r\n            return {...state,hotels: [...newHotels],favouriteHotels: [...favouriteHotels]}\r\n        default: return state\r\n    }\r\n}","import {combineReducers} from 'redux'\r\nimport hotelsReducer from \"./hotels/hotelsReducer\";\r\n\r\n\r\nexport const rootReducer = combineReducers({\r\n    hotelsState:hotelsReducer,\r\n\r\n})","import { call,put, takeEvery, all } from 'redux-saga/effects';\r\nimport {hotelsCreator, startFetchAction, stopFetchAction} from \"../reducers/hotels/actions\";\r\nimport {FETCH_HOTELS_ASYNC} from \"../reducers/hotels/types\";\r\n\r\n\r\nasync function fetchHotels([payload]){\r\n  const dateOut = getDayOut(payload.dateIn,payload.days)\r\n  const uri = `http://engine.hotellook.com/api/v2/cache.json?location=${payload.town}&currency=rub&checkIn=${payload.dateIn}&checkOut=${dateOut}`;\r\n  return fetch(uri)\r\n}\r\nfunction formatResponse(hotels){\r\n  return hotels.map(hotel=>{\r\n    return {\r\n      hotelName:hotel.hotelName,\r\n      price:hotel.priceFrom,\r\n      stars:hotel.stars,\r\n      isFavourite:false,\r\n    }\r\n  })\r\n}\r\nfunction getDayOut(dayIn,days){\r\n  const data = dayIn.split('-')\r\n  let date = new Date(+data[0],+data[1]-1,+data[2]+ +days)\r\n  const year = date.getFullYear()\r\n  const mounth = date.getMonth()+1 > 9 ? date.getMonth()+1 : '0'+(date.getMonth()+1)\r\n  const day = date.getDate() > 9 ? date.getDate() : '0'+date.getDate()\r\n  return `${year}-${mounth}-${day}`\r\n}\r\n\r\n\r\nexport function* hotelsAsync({payload}) {\r\n  yield put(startFetchAction(payload.town,payload.dateIn,payload.days))\r\n  const data = yield call(fetchHotels,[payload])\r\n  const json = yield call(()=> new Promise(res =>res(data.json())))\r\n  const hotels = formatResponse(json)\r\n  yield put(hotelsCreator(hotels))\r\n  yield put(stopFetchAction())\r\n}\r\n\r\nfunction* watchHotelsAsync() {\r\n  yield takeEvery(FETCH_HOTELS_ASYNC, hotelsAsync)\r\n}\r\n\r\n\r\n\r\nexport default function* rootSaga() {\r\n  yield all([\r\n    watchHotelsAsync(),\r\n\r\n  ])\r\n}","import { createStore, applyMiddleware } from 'redux';\r\nimport {rootReducer} from \"./reducers/rootReducer\";\r\nimport createSagaMiddleware from 'redux-saga'\r\nimport rootSaga from \"./sagas/rootSaga\";\r\n\r\n\r\n\r\nconst sagaMiddleware = createSagaMiddleware()\r\n\r\nconst store = createStore(rootReducer,applyMiddleware(sagaMiddleware));\r\nsagaMiddleware.run(rootSaga)\r\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport {BrowserRouter as Router,} from 'react-router-dom';\nimport {Provider} from 'react-redux'\nimport store from \"./redux/store\";\n\n\n\nconst app = <Router>\n    <Provider store={store}>\n        <React.StrictMode>\n    <App />\n  </React.StrictMode>\n    </Provider>\n</Router>\n\nReactDOM.render(\n  app,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}